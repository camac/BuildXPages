<?xml version="1.0" encoding="UTF-8"?>
<project name="BuildXPagesAntLib" basedir="."
	xmlns:bxp="antlib:com.gregorbyte.buildxpages.ant">

	<taskdef 
		uri="antlib:com.gregorbyte.buildxpages.ant" 
		resource="com/gregorbyte/buildxpages/ant/antlib.xml"
		classpath="lib/BuildXPagesAntLib.jar"></taskdef>


	
	<target name="deletensf" description="Deletes an NSF">
		<deletensf filename="demo\\DidItwork.nsf" />
	</target>

	<target name="copynsf" description="Copies an NSF">
		<copynsf srcfilepath="demo\\GitTest.nsf" dstfilepath="demo\\DidItwork.nsf" />
	</target>

	<target name="scxd" description="Testing scxd">
		<bxp:scxd server="domino02" database="Gregorbyte\\DoraDeploy.nsf"
			scxdflag="false" scxdpath="scxd\\NewThing.nsf" />
	</target>

	<target name="use" description="Use the task">
		<refreshdbdesign server="domino02" database="JobFiles\\Z1001.nsf"
			templateserver="domino02" />
	</target>

	<target name="testbuildnsf" description="Build an NSF">
		<buildnsf
			ondiskproject="V:\\DominoGit\\Headless\\com.gregorbyte.headless.nsf\\.project"
			targetfilename="fromant2.nsf" port="8283">
		</buildnsf>
	</target>

	<target name="cleanforgeneratesitexml">
		
		<delete dir="testgen"></delete>
		
	</target>
	
	<target name="setupforgeneratesitexml" depends="cleanforgeneratesitexml">

		<mkdir dir="testgen"/>
		<mkdir dir="testgen/plugins"/>
		<mkdir dir="testgen/features"/>
		<touch file="testgen/plugins/someplugin_1.2.3.20141005.jar"></touch>
		<touch file="testgen/features/somefeature_1.2.3.20141005.jar"></touch>
	
	</target>
	
	<target name="testgeneratesitexml" description="Generates a Site XML" depends="setupforgeneratesitexml">
		<bxp:generatesitexml eclipsedir="testgen" />
	</target>
	

</project>
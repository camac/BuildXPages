<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Buildxpages by camac</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Buildxpages</h1>
        <p>Tools for Building XPages Automatically</p>
        <p class="view"><a href="https://github.com/camac/BuildXPages">View the Project on GitHub <small>camac/BuildXPages</small></a></p>
        <ul>
          <li><a href="https://github.com/camac/BuildXPages/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/camac/BuildXPages/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/camac/BuildXPages">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a id="buildxpages" class="anchor" href="#buildxpages" aria-hidden="true"><span class="octicon octicon-link"></span></a>BuildXPages</h1>

<p>This project is a collection of tools which are useful in the case of building XPages applications using a Continous Integration server like Jenkins.</p>

<ul>
<li>Augmented 'Headless' designer plugin to allow better feedback </li>
<li>Ant library of common tasks that are useful when building XPages apps</li>
<li>Jenkins plugin to use build Stpes</li>
</ul>

<h2>
<a id="using-the-ant-library" class="anchor" href="#using-the-ant-library" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using the Ant Library</h2>

<p>Intro to Ant</p>

<p>If you don't know about apache ant, it is basically a tool to define steps in a process and execute them! This is very handy for deployment steps etc.</p>

<p>You have a whole bunch of standard tasks which can be anything from copying a file, to compiling some code, jarring it up, running a process whatever.
You can also make your own tasks and supply them as an ant library which is what I have done here.</p>

<p>The basics of ant, is that you create an xml file which is your build script. It is usually called 'build.xml' but it can be another name.
Within your build script, you define sub-routines which are called targets. Targets can depend on other targets, so if 'last' depends on 'middle', and 'middle' depends on 'first', when you tell ant to execute the 'last' target, it will actually run 'first' then 'middle' then 'last'.</p>

<p>Your build script can define a default target to run in the case that you have not specified a target to run.</p>

<h3>
<a id="tasks" class="anchor" href="#tasks" aria-hidden="true"><span class="octicon octicon-link"></span></a>Tasks</h3>

<ul>
<li>buildnsf
builds an NSF by connecting to Domino Design with Headless Plugin<br>
</li>
<li>copynsf
copies an NSF from the local filesystem to a server</li>
<li>deletensf
deletes an NSF from a server</li>
<li>settemplatenames
sets or clears the inheritfrom and ismaster template names of an NSF</li>
<li>scxd
sets or clears the single copy xpages design settings of an NSF</li>
<li>restarthttp <strong>NOT FINISHED</strong>
sends a 'restart task http' command to a domino server console</li>
<li>refreshdbdesign
refreshs the design of a database</li>
<li>generatesitexml
generates a site.xml based on the supplied directory</li>
</ul>

<h3>
<a id="using-the-library-in-an-ant-build-script" class="anchor" href="#using-the-library-in-an-ant-build-script" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using the Library in an Ant Build Script</h3>

<p>The BuildXPages library depends on the Java Native Access Library
To use the BuildXPages Library in an Ant Build script, you need to:</p>

<ol>
<li>Make the BuildXPagesAntLib.jar available to ant</li>
<li>Make the Java Native Access jar available to ant</li>
<li>Define in your build script that you want to use this library</li>
</ol>

<p>You have a couple of options here, you can install the jars 'Once and for all', or configure on a project by project basis.
You probably want to do it project by project, this way you can include these libraries in your Source Code Management repository (Git, Mercurial etc.)</p>

<h5>
<a id="per-project-basis" class="anchor" href="#per-project-basis" aria-hidden="true"><span class="octicon octicon-link"></span></a>Per Project Basis</h5>

<p>Easiest way is to create a 'lib' sub folder in your project, and put both BuildXPagesAntLib.jar and jna-4.1.0.jar in this folder</p>

<p>Then your Build script needs to declare that it wants to use the libary, see the file buildTemplate.xml for the example.</p>

<h6>
<a id="running" class="anchor" href="#running" aria-hidden="true"><span class="octicon octicon-link"></span></a>Running</h6>

<p>When you run your build script, you will need to include a -lib argument which defines the lib folder as a place to look for libraries.</p>

<p>e.g. if we </p>

<pre><code>ant -buildfile &lt;yourBuildFile.xml&gt; -lib lib &lt;yourtarget&gt;
</code></pre>

<h5>
<a id="once-and-for-all" class="anchor" href="#once-and-for-all" aria-hidden="true"><span class="octicon octicon-link"></span></a>Once and for all</h5>

<p>Install BuildXPagesAntLib.jar and jna-4.1.0.jar into either</p>

<ul>
<li>ANT_HOME/lib</li>
<li>${user.home}/.ant/lib</li>
</ul>
      </section>
    </div>
    <footer>
      <p>Project maintained by <a href="https://github.com/camac">camac</a></p>
      <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
    </footer>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>